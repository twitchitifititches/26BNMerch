<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>26th BN Merch</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; background-color: #f4f4f9; color: #333; margin: 0; padding: 20px; }
        #app { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: center; }
        .logo-header { margin-bottom: 10px; display: flex; justify-content: center; }
        #main-logo { width: 150px; height: 150px; border-radius: 50%; border: 3px solid #556b2f; background-image: url('https://github.com/twitchitifititches/26BNMerch/blob/42ba3de7c3c4b9429c92f67cb72c9986d293c1ae/logo.png'); background-size: cover; background-position: center; background-color: #fff; }
        h1 { color: #556b2f; margin-bottom: 25px; }
        .product { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee; }
        button { cursor: pointer; padding: 8px 16px; border: none; border-radius: 4px; background-color: #556b2f; color: white; font-weight: bold; }
        #checkout { width: 100%; padding: 15px; background: #28a745; color: white; font-size: 18px; font-weight: bold; margin-top: 15px; }
    </style>
</head>
<body>
<div id="app">
    <div class="logo-header"><div id="main-logo"></div></div>
    <h1>26th BN Merch Store</h1>
    <div id="product-list">
        <div class="product"><span>Epic Shirt - $35</span><button onclick="addToCart(35, 'Epic Shirt')">Add</button></div>
        <div class="product"><span>Hoodie - $50</span><button onclick="addToCart(50, 'Hoodie')">Add</button></div>
        <div class="product"><span>Ball Cap - $25</span><button onclick="addToCart(25, 'Ball Cap')">Add</button></div>
    </div>
    <div id="cart">
        <h3>Total: $<span id="total">0</span></h3>
        <button id="checkout" onclick="submitOrder()">SUBMIT ORDER</button>
    </div>
</div>
<script>
    let cart = []; let total = 0; const tg = window.Telegram.WebApp;
    // REPLACE THIS with your Google Web App URL
    const GOOGLE_SCRIPT_URL = 'https://script.google.com';

    function addToCart(price, name) {
        cart.push({ name, price });
        total += price;
        document.getElementById('total').innerText = total;
    }

    async function submitOrder() {
        if (cart.length === 0) return;
        const payload = { user: tg.initDataUnsafe.user?.first_name || "Guest", items: cart, total: total };
        
        // This sends the data to your Google Sheet backend
        await fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            body: JSON.stringify(payload)
        });
        
        tg.showAlert("Order Sent!");
        tg.close();
    }
    window.onload = () => { tg.ready(); tg.expand(); };
</script>
</body>
</html>

